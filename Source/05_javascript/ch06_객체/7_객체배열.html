<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <script>

        // 객체배열 만들기.(객체들로 구성된 배열)
        var students = [
            { name: "박명수", kor: 99, mat: 90, eng: 98, sci: 100 },
            { name: "유재석", kor: 100, mat: 90, eng: 85, sci: 99 },
        ];
        students.push({ name: "정형돈", kor: 15, mat: 55, eng: 60, sci: 66 });
        students.push({ name: "노홍철", kor: 10, mat: 30, eng: 50, sci: 70 });
        students.push({ name: "정준하", kor: 45, mat: 80, eng: 40, sci: 80 });



        // 합계, 평균, toString 속성 지정(toString 부분 숙지하기.)
        for (var idx in students) { // idx가 0~4
            students[idx].getSum = function () {
                return this.kor + this.mat + this.eng + this.sci;
            };
            students[idx].getAvg = function () {
                return this.getSum() / 4; 
            };
            students[idx].toString = function () {
                var output = "";
                for (var key in this) {
                    if (key != "getSum" && key != "getAvg" && key != "toString") {
                        output += key + ":" + this[key] + "<br>";
                    } else if (key == "getSum" || key == "getAvg") {
                        output += key.substring(3).toUpperCase() + ":" + this[key]() + "<br>";
                    }//else if
                }//for
                return output;
            };//toString
        }//for



        // 배열 출력 부분

        // 첫번째 방법 students 배열 출력 : 일반for문
        /*
        var output = "";
        for (var idx = 0; idx < students.length; idx++) {
            output += idx + "번 째" + "<br>";
            output += students[idx];
            output += "<hr>";
        }
        document.write(output);
        */
        //alert(output.replaceAll("<br>", "\n"));


        // 두번째 방법 students 배열 출력 : for-in문
        /*
        document.write("<h4> for-in문 이용</h4>");
        var output = "";
        for (var idx in students) {
            output += idx + "번 째" + "<br>";
            output += students[idx];
            output += "<hr>";
        }
        document.write(output);
        */

        // 세번째 방법 students 배열 출력 : forEach()함수 이용
        document.write("<h4>forEach()함수 이용</h4>");
        students.forEach(function (data, idx) {
            document.write(idx + "번째<br>");
            document.write(data + "<hr>");
        });




        // replaceAll 만들기
        /*
        str = "abdasd<br>asdab<br>asdas";
        splitStr = ["abdasd", "asdab", "asdas"];
        joinStr = "abdasd\nasdab\nasdas";
        */
        function replaceAll(str, oldStr, newStr) {
            var splitStr = str.split(oldStr);
            var joinStr = stplitStr.join(newStr);
            return joinStr;
            // return str.split(oldStr).join(newStr);
        }





        // 요약정리
        // 1. 배열안에 들어있는 객체 [{1번 객체}, {2번 객체}, {3번 객체}]
        // 2. 객체의 형태는 다를 수 있다. [{이름, 국어점수}, {나이}]
        // 위처럼 하면 1번 배열에는 이름, 국어 값이 들어가고, 2번 배열에는 나이만 들어감
        // 3. js는 나누기하면 소수점 유지됨
        // 4. alert 쓰는 경우 <br> 대신 \n을 써야하기 때문에 replaceAll 함수 만들어주기

        // for-in문 자주 쓰고(객체인 경우 무조건for-in문), 출력할 때는 forEach 자주 씀
    </script>
</head>
<body>

</body>
</html>