<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <script>
        //회원가입 창을 간략하게 만든다.
        //주의할 점. 유효성검사는 태그 혹은 js 한곳만 해야 들쭉날쭉 안함. 일관성있게 만들것

        //의문 - 왜 네임에 숫자를 넣으면 안되는가. --> patternName에 숫자랑 연관된 뭔가 있는듯
        var patternName = /[`!@#$%^&*()_+-=|\\{}?/\[\]'"]/;
        var patternEmail = /^\w[a-zA-Z0-9_.]+@\w+(\.\w+){1,2}$/;
        var patternPassword = /(?=.*[a-zA-z])(?=.*[0-9])(?=.*[$`~!@$!%*#^?&\\(\\)\-_=+]).{4,}/;

        function chk() {    
            if (frm.name.value.length == 0 || patternName.test(frm.name.value)) {
                alert("이름을 형식에 맞게 작성해주세요.");
                frm.name.focus();
                return false;
            } else if (frm.email.value.length == 0 || !patternEmail.test(frm.email.value)) {
                alert("이메일을 형식에 맞게 작성해주세요.");
                frm.email.focus();
                return false;
            } else if (!patternPassword.test(frm.pw.value)) {
                alert("비밀번호를 형식에 맞게 작성해주세요.");
                frm.pw.focus();
                return false;
            } else if (frm.pw.value != frm.pwchk.value) {
                alert("비밀번호가 일치하지 않습니다.");
                frm.pwchk.value = "";
                frm.pwchk.focus();
                return false;
            }
            return true;
        }

        // 요약정리
        // 1. 이름, 비밀번호를 따로 하기보다 숫자, 알파벳, 특수문자 하나씩 나눠서 처리
        // 2. ^표시랑 $는 각각 맨앞에 맨 뒤에 해주는것.(깃 보면서 숙지하기)
        // 3. test, match를 통해 유효성검사 가능
        // 4. 트림한걸 변수로 잡기
        // 5. 이메일에도 text로 타입 지정한 후 모든 유효성검사를 위로 통일하기
        // 6. frm.email.value.match(patternMail) 형식에 맞으면 true 반환하는데
        //    이 형식으로 전체적으로 한번 풀어보기


        //오늘의 문제 - 다시 풀어보기
        //조건 : test함수 사용x 하고 다시 풀어보기.
    </script>
</head>
<body>
    <form name="frm" onsubmit="return chk()">
        <table>
            <tr>
                <td>이 름</td>
                <td><input type="text" name="name" placeholder="이름엔 특수문자가 못 와" /></td>
            </tr>
            <tr>
                <td>메 일</td>
                <td><input type="text" name="email" placeholder="메일형식에 맞춰주세요" /></td>
            </tr>
            <tr>
                <td>비밀번호</td>
                <td><input type="password" name="pw" /></td>
            </tr>
            <tr>
                <td>비밀번호</td>
                <td><input type="password" name="pwchk"/></td>
            </tr>
            <tr>
                <td colspan="3">
                <input type="submit" value="회원가입" />
                <input type="reset" value="취소" />
                <input type="submit" value="로그인" />
                </td>
            </tr>
        </table>
    </form>
</body>
</html>