<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <style>
        #wrap {
            width: 450px;
            margin: 0 auto;
        }

            #wrap h1 {
                color: red;
                margin-top: 50px;
                text-align: center;
            }

            #wrap h3 {
                padding: 20px;
                margin: 10px;
                border: 1px solid red;
                text-align: center;
                border-radius: 10px;
                font-size: .9em;
                cursor:pointer; /* 버튼처럼 보이기 위해*/
            }
    </style>
    <script>
        // parent파일에서 4번까지 수행한 뒤 여기서 진행

        var modifyName; //전역변수로 변경

        window.onload = function () {
            var name = opener.document.getElementById("name").value;
            var date = opener.document.getElementById("date").value;
            
            // parent와 child간의 데이터 통신
            // parent에서 할 일 : child창 open()하기
            // child 할 일 : opener(parent)의 데이터를 받아 내 문서객체에 뿌리기
            // opener 즉, 자기를 연 파일을 변수에 넣어 가져오기


            //날짜가 들어왔는지 아닌지에 따라 가져가기.
            if (date == "") { //날짜가 빈스트링이라면 날짜 선택을 안했다는 것.
                parentData.innerHTML = "넘어온 이름: " + name + " 날짜:선택 안 함";
            } else {
                parentData.innerHTML = "넘어온 이름: " + name + " 날짜: " + date;
            }

            // 들어온 이름 이름 칸에 넣어주기. 넣어줄칸을 함수로 할당해주고(modifyname), setAttribute 해주기.
            modifyName = document.getElementById("modifyName");
            modifyName.setAttribute("value", name); // == modifyName.value = name;

            // 각각 인사, 재무, 총무, 개발로 해주고 닫아주기.
        }
            function sendData(part) {
                opener.document.getElementById("name").value = modifyName.value;
                opener.document.getElementById("part").innerHTML = part;
                close();
            }

            


    </script>
</head>
<body>
    <div id="wrap">
        <h1>인사 정보 시스템</h1>
        <hr />
        <h2 id="parentData">~</h2>
        <h2>이름 수정 가능<input type="text" id="modifyName" /></h2>
        <hr />
        <h3 onclick="sendData('인사')">인사로 하고 닫기</h3>
        <h3 onclick="sendData('재무')">재무로 하고 닫기</h3>
        <h3 onclick="sendData('총무')">총무로 하고 닫기</h3>
        <h3 onclick="sendData('개발')">개발로 하고 닫기</h3>
    </div>
</body>
</html>